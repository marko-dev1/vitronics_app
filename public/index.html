<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VitronicsHub Kenya - Premium Phone Accessories</title>
   <link rel="stylesheet" href="./styles.css">
   <link rel="stylesheet" href="./cart.css">
    <link rel="stylesheet" href="./cartUI.css">
    <link rel="stylesheet" href="./humberger.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">VITRONICS<span>Hub</span> Kenya</div>
        <p>Premium Phone Accessories in Kenya</p>
    </header>
    

    
       <nav>
  <div class="nav-container">
    <!-- <div class="logo">MyShop</div> -->

    <div class="hamburger" id="hamburger">
      <i class="fas fa-bars"></i>
    </div>

    <div class="nav-links" id="navLinks">
      <a href="#home">Home</a>
      <a href="#products">Products</a>
      <a href="#deals">Daily Deals</a>
      <a href="#contact">Contact</a>
      <a href="register.html" id="registerLink">Register</a>
      <a href="login.html" id="loginLink">Login</a>
      <span class="user-greeting" id="greeting" style="cursor: pointer;" title="Click to logout">
        <i class="fas fa-user" id="userIcon" ></i>
        <span id="username-text">Guest</span>
      </span>
      <a href="#" class="cart-icon" id="cartIcon">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count" id="cartCount">0</span>


        
      </a>
    </div>
  </div>
</nav>

    <!-- Hero Section with Carousel -->
    <section class="hero" id="home">
        <div class="carousel">
            <!-- Slide 1 -->
            <div class="carousel-slide">
                <img src="img/phones.png" alt="Phone accessories">
                <div class="carousel-overlay">
                    <!-- <h1>Premium Phone Accessories</h1>
                    <p>Original quality at affordable prices. Free delivery in Nairobi for orders above Ksh 1,500</p> -->
                    <div>
                        <a href="#products" class="btn">Shop Now</a>
                        <a href="#deals" class="btn btn-outline">Today's Deals</a>
                    </div>
                </div>
            </div>
            
            <!-- Slide 2 -->
            <div class="carousel-slide">
                <img src="/img/phone_cases_1.png" alt="Phone cases">
                <div class="carousel-overlay">
                    <!--  <h1>Stylish Phone Cases</h1>
                    <p>Protect your phone with our premium cases available for all models</p> -->
                    <div> 
                        <a href="#products" class="btn">Browse Cases</a>
                    </div>
                </div>
            </div>
             <!-- Slide 2 merged for simplicity duplicate-->
             
            
            <!-- Slide 3 -->
            <div class="carousel-slide">
                <img src="/img/QC-3.0.png" alt="Chargers">
                <div class="carousel-overlay">
                    <!-- <h1>Fast Chargers</h1>
                    <p>Get the fastest charging experience with our certified chargers</p> -->
                    <div>
                        <a href="#products" class="btn">View Chargers</a>
                    </div>
                </div>
            </div>
             <!-- Slide 3   merged for simplicityduplicate-->
           

                <!-- Slide  4  merged for simplicity-->
            
         <!-- Slide 5  merged for simplicity-->

             <!-- Slide 6  merged for simplicity-->

             <!-- Slide 7-->
             <div class="carousel-slide">
                <img src="/img/TWS_JBL1.png" alt="AirPods">
                <div class="carousel-overlay">
                    <!-- <h1>Wireless EarPods</h1>
                    <p>Experience the freedom of wireless audio with our premium EarPods</p> -->
                    <div>
                        <a href="#products" class="btn">View EarPods</a>
                    </div>
                </div>
            </div>

        </div>
        
        <button class="carousel-btn prev" id="prevBtn">&#10094;</button>
        <button class="carousel-btn next" id="nextBtn">&#10095;</button>
        
        <div class="carousel-indicators" id="indicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
        </div>
    </section>
       <!-- Deals Section  -->
    <section class="container" id="deals">
        <h2 class="section-title">Today's Deals</h2>
        <div class="product-row" id="dealsRow">
            <!-- Deals will be added by JavaScript -->
        </div>
    </section>
    
    <!-- Products Section  -->
    <section class="container" id="products">
        <h2 class="section-title">Our Products</h2>
        <div class="product-row" id="productRow">
            <!-- Products will be added by JavaScript -->
        </div>
    </section>
    
 
    
    <section id="contact" style="padding: 2rem; background: #eee; text-align: center;">
        <h2 class="section-title">Contact Us</h2>
        <p>Have questions? Reach out to us!</p>
        <p><i class="fas fa-phone"></i> +254 703 182 530</p>
        <p><i class="fas fa-envelope"></i> hello@vitronicshub.co.ke</p>
        <p><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</p>
    </section>
    
    <footer>
        <div class="footer-links">
            <a href="#">Home</a>
            <a href="#">Products</a>
            <a href="#">About Us</a>
            <a href="#">Contact</a>
            <a href="#">Terms</a>
        </div>
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
        </div>
       
         <p>&copy; <span id="year"></span> VitronicsHub Kenya. All rights reserved.</p>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();
</script>

        <p> We Accept M-Pesa and Cash on Delivery</p>
    </footer>

    <a href="https://wa.me/254703182530?text=Hi VitronicsHub, I want to know more about your products" target="_blank" class="whatsapp-btn">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <h2>Your Shopping Cart</h2>
            <div class="cart-items" id="cartItems">
                <!-- Cart items will be added by JavaScript -->
                <p id="emptyCartMessage">Your cart is empty</p>
            </div>
            <div class="cart-total">
                Total: <span id="cartTotal">Ksh 0</span>
            </div>
            
            <div class="payment-options" id="paymentOptions">
                <h3>Select Payment Method</h3>
                
                <!-- M-Pesa Option -->
                <div class="payment-method" id="mpesaOption">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/1/15/M-PESA_LOGO-01.svg" alt="M-Pesa" class="payment-icon">
                    <div>
                        <h4>M-Pesa</h4>
                        <p>Pay via STK Push</p>
                    </div>
                </div>
                
                <div class="payment-details" id="mpesaDetails">
                    <div class="form-group">
                        <label for="mpesaPhone">M-Pesa Phone Number:</label>
                        <input type="tel" id="mpesaPhone" placeholder="254712345678" required>
                    </div>
                    <button class="confirm-btn" id="confirmMpesa">Confirm Payment via M-Pesa</button>
                    <div class="payment-feedback" id="mpesaFeedback"></div>
                </div>
                
                <!-- Cash on Delivery Option -->
                <div class="payment-method" id="codOption">
                    <img src="https://cdn-icons-png.flaticon.com/512/2703/2703983.png" alt="Cash on Delivery" class="payment-icon">
                    <div>
                        <h4>Cash on Delivery</h4>
                        <p>Pay when you receive your order</p>
                    </div>
                </div>
                
                <div class="payment-details" id="codDetails">
                    <p>You will pay when your order is delivered. An additional Ksh 100 delivery fee applies.</p>
                    <button class="confirm-btn" id="confirmCOD">Confirm Cash on Delivery</button>
                </div>
                
                <!-- Card Payment Option -->
                <div class="payment-method" id="cardOption">
                    <img src="https://cdn-icons-png.flaticon.com/512/179/179457.png" alt="Card Payment" class="payment-icon">
                    <div>
                        <h4>Credit/Debit Card</h4>
                        <p>Pay securely with your card</p>
                    </div>
                </div>
                
                <div class="payment-details" id="cardDetails">
                    <div class="form-group">
                        <label for="cardNumber">Card Number:</label>
                        <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                    </div>
                    <div class="form-group">
                        <label for="cardExpiry">Expiry Date:</label>
                        <input type="text" id="cardExpiry" placeholder="MM/YY" required>
                    </div>
                    <div class="form-group">
                        <label for="cardCvv">CVV:</label>
                        <input type="text" id="cardCvv" placeholder="123" required>
                    </div>
                    <button class="confirm-btn" id="confirmCard">Pay with Card</button>
                    <div class="payment-feedback" id="cardFeedback"></div>
                </div>
            </div>
            
            <button class="btn checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
        </div>
    </div>

   <script>
   
window.addEventListener('DOMContentLoaded', () => {
  fetch('/api/auth/session', {
    credentials: 'include'
  })
  .then(async res => {
    const data = await res.json();
    
    if (res.ok && data.authenticated && data.user?.email) {
      const email = data.user.email;
      document.getElementById('username-text').innerText = `Hello, ${email}`;
      

        document.getElementById('registerLink').style.display = 'none';
        document.getElementById('loginLink').style.display = 'none';
    } else {
      document.getElementById('username-text').innerText = 'Guest';
    }
  })
  .catch(() => {
    document.getElementById('username-text').innerText = 'Guest';
  });
});

  // Logout route
  document.getElementById('greeting').addEventListener('click', () => {
    fetch('/api/auth/logout', {
      method: 'POST',
      credentials: 'include'
    })
    .then(res => {
      if (res.ok) {
        document.getElementById('username-text').innerText = 'Guest';
        document.getElementById('registerLink').style.display = 'inline';
        document.getElementById('loginLink').style.display = 'inline';
        alert('You will be Logged out, Continue?');
      } else {
        alert('Logout failed');
      }
    })
    .catch(() => alert('Logout failed'));
  });


  document.getElementById('hamburger').addEventListener('click', () => {
    document.getElementById('navLinks').classList.toggle('show');
  });
</script>

</script>

<script src="./script.js"></script>
<script src="./carousel.js"></script>
<script src="./cart.js"></script>
 

<div id="toast" class="toast"></div>

</body>
</html>